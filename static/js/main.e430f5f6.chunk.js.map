{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","moviesWillWatch","abc","some","x","id","console","log","className","src","backdrop_path","poster_path","alt","title","vote_average","movie","type","onClick","setState","React","Component","MovieTabs","nextProps","nestState","sort_by","updateSortBy","handleClick","value","getClassLink","classNames","active","Pagination","moveToNextPage","moveToPrevPage","page","totalPages","aria-label","App","getMovies","apiFullLink","fetch","then","response","json","movies","results","total_pages","catch","error","updateMovies","filter","item","updateMoviesWillWatch","push","localStorage","setItem","JSON","stringify","prevState","parse","getItem","prevProps","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e430f5f6.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch,\n      moviesWillWatch\n    } = this.props;\n    // props.data = {};\n    const abc = moviesWillWatch.some(x => x.id === data.id);\n    console.log(\"KK\", moviesWillWatch, abc);\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.willWatch ||\n            moviesWillWatch.some(movie => movie.id === data.id) ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: true\n                  });\n                  addMovieToWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            )}\n\n            {/* {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: true\n                  });\n                  addMovieToWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            )} */}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  shouldComponentUpdate(nextProps, nestState) {\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = value => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const getClassLink = value =>\r\n      classNames(\"nav-link\", { active: sort_by === value });\r\n\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n          >\r\n            Popularyty desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nclass Pagination extends React.Component {\r\n  render() {\r\n    const { moveToNextPage, moveToPrevPage, page, totalPages } = this.props;\r\n    return (\r\n      <div>\r\n        <nav aria-label=\"Page navigation\">\r\n          <ul className=\"pagination justify-content-center\">\r\n            <li className={`page-item ${page === 1 ? \"disabled\" : \"\"}`}>\r\n              <button className=\"page-link\" onClick={() => moveToPrevPage()}>\r\n                Prev Page\r\n              </button>\r\n            </li>\r\n\r\n            <li className=\"page-item\">\r\n              <button className=\"page-link\" onClick={() => moveToNextPage()}>\r\n                Next Page\r\n              </button>\r\n            </li>\r\n          </ul>\r\n          <div className=\"center\">\r\n            {page} of {totalPages}\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import React from 'react';\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from './MovieItem';\nimport MovieTabs from './MovieTabs';\nimport Pagination from './Pagination';\nimport { API_URL, API_KEY_3 } from '../utils/api';\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            movies: [],\n            moviesWillWatch: JSON.parse(localStorage.getItem('movies')) || [],\n            sort_by: 'popularity.desc',\n            page: 1,\n            totalPages: ''\n        };\n    }\n\n    componentDidMount() {\n        this.getMovies();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (\n            prevState.sort_by !== this.state.sort_by ||\n            prevState.page !== this.state.page\n        ) {\n            this.getMovies();\n        }\n    }\n\n    getMovies = page => {\n        const apiFullLink = `${API_URL}/discover/movie?api_key=${API_KEY_3}&page=${this.state.page}&sort_by=${this.state.sort_by}`;\n        fetch(apiFullLink)\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                console.log('data', data);\n                this.setState({\n                    movies: data.results,\n                    totalPages: data.total_pages\n                });\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    };\n\n    deleteMovie = movie => {\n        console.log(movie.id);\n        const updateMovies = this.state.movies.filter(\n            item => item.id !== movie.id\n        );\n\n        this.setState({\n            movies: updateMovies\n        });\n    };\n\n    addMovieToWillWatch = movie => {\n        console.log(movie);\n        const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n        updateMoviesWillWatch.push(movie);\n\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch\n        });\n        localStorage.setItem('movies', JSON.stringify(updateMoviesWillWatch));\n    };\n\n    deleteMovieFromWillWatch = movie => {\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n            item => item.id !== movie.id\n        );\n\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch\n        });\n        localStorage.setItem('movies', JSON.stringify(updateMoviesWillWatch));\n    };\n\n    updateSortBy = value => {\n        this.setState({\n            sort_by: value,\n            page: 1\n        });\n    };\n\n    moveToNextPage = () => {\n        this.setState(prevState => ({\n            page: prevState.page + 1\n        }));\n    };\n\n    moveToPrevPage = () => {\n        this.setState(prevState => ({\n            page: prevState.page - 1\n        }));\n    };\n\n    render() {\n        // console.log(\"render\", this);\n        return (\n            <div className=\"container\">\n                <div className=\"row mt-4\">\n                    <div className=\"col-9\">\n                        <div className=\"row mb-4\">\n                            <div className=\"col-12\">\n                                <MovieTabs\n                                    sort_by={this.state.sort_by}\n                                    updateSortBy={this.updateSortBy}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            {this.state.movies.map(movie => {\n                                return (\n                                    <div className=\"col-6 mb-4\" key={movie.id}>\n                                        <MovieItem\n                                            data={movie}\n                                            deleteMovie={this.deleteMovie}\n                                            addMovieToWillWatch={\n                                                this.addMovieToWillWatch\n                                            }\n                                            deleteMovieFromWillWatch={\n                                                this.deleteMovieFromWillWatch\n                                            }\n                                            moviesWillWatch={\n                                                this.state.moviesWillWatch\n                                            }\n                                        />\n                                    </div>\n                                );\n                            })}\n                        </div>\n                        <div className=\"row mb-4 justify-content-center\">\n                            <div className=\"col-12\">\n                                <Pagination\n                                    moveToNextPage={this.moveToNextPage}\n                                    moveToPrevPage={this.moveToPrevPage}\n                                    page={this.state.page}\n                                    totalPages={this.state.totalPages}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-3\">\n                        <h4>\n                            Will Watch: {this.state.moviesWillWatch.length}{' '}\n                            movies\n                        </h4>\n                        <ul className=\"list-group\">\n                            {this.state.moviesWillWatch.map(movie => (\n                                <li key={movie.id} className=\"list-group-item\">\n                                    <div className=\"d-flex justify-content-between\">\n                                        <p>{movie.title}</p>\n                                        <p>{movie.vote_average}</p>\n                                    </div>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}